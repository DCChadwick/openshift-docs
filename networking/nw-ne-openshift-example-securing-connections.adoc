// Module included in the following assemblies:
//
// * networking/understanding-networking.adoc

[id="nw-ne-openshift-securing-connections_{context}"]
= Example: Exposing applications and securing connections
Imagine you have a web application running in your Kubernetes cluster that needs to be accessed by external users.

1. Create a Service

Expose the application as a service using a type that suits your needs (e.g., LoadBalancer for cloud environments).

   [source, yaml]
   apiVersion: v1
   kind: Service
   metadata:
     name: my-web-app
   spec:
     type: LoadBalancer
     selector:
       app: my-web-app
     ports:
       - port: 80
         targetPort: 8080

2. Configure ingress

Define an Ingress resource to manage HTTP/HTTPS traffic and route it to your service.
   
   [source, yaml]
   apiVersion: networking.k8s.io/v1
   kind: Ingress
   metadata:
     name: my-web-app-ingress
     annotations:
       kubernetes.io/ingress.class: "nginx"
   spec:
     rules:
       - host: mywebapp.example.com
         http:
           paths:
             - path: /
               pathType: Prefix
               backend:
                 service:
                   name: my-web-app
                   port:
                     number: 80

3. Secure with TLS

Configure TLS for your Ingress to ensure encrypted connections.

   [source, yaml]
   apiVersion: networking.k8s.io/v1
   kind: Ingress
   metadata:
     name: my-web-app-ingress
     annotations:
       kubernetes.io/ingress.class: "nginx"
   spec:
     tls:
       - hosts:
           - mywebapp.example.com
         secretName: my-tls-secret
     rules:
       - host: mywebapp.example.com
         http:
           paths:
             - path: /
               pathType: Prefix
               backend:
                 service:
                   name: my-web-app
                   port:
                     number: 80