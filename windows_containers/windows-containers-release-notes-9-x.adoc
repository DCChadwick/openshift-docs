:_content-type: ASSEMBLY
[id="windows-containers-release-notes-9-x"]
= {productwinc} release notes
include::_attributes/common-attributes.adoc[]
:context: windows-containers-release-notes

toc::[]

[id="about-windows-containers"]
== About {productwinc}

Windows Container Support for Red Hat OpenShift enables running Windows compute nodes in an {product-title} cluster. Running Windows workloads is possible by using the Red Hat Windows Machine Config Operator (WMCO) to install and manage Windows nodes. With Windows nodes available, you can run Windows container workloads in {product-title}.

These release notes track the development of the WMCO, which provides all Windows container workload capabilities in {product-title}.

ifndef::openshift-origin[]
[id="getting-support"]
== Getting support

// wording taken and modified from https://access.redhat.com/support/policy/updates/openshift#windows

Windows Container Support for Red Hat OpenShift is provided and available as an optional, installable component. Windows Container Support for Red Hat OpenShift is not part of the {product-title} subscription. It requires an additional Red Hat subscription and is supported according to the link:https://access.redhat.com/support/offerings/production/soc/[Scope of coverage] and link:https://access.redhat.com/support/offerings/production/sla[Service level agreements].

You must have this separate subscription to receive support for Windows Container Support for Red Hat OpenShift. Without this additional Red Hat subscription, deploying Windows container workloads in production clusters is not supported. You can request support through the link:http://access.redhat.com/[Red Hat Customer Portal].

For more information, see the Red Hat OpenShift Container Platform Life Cycle Policy document for link:https://access.redhat.com/support/policy/updates/openshift#windows[{productwinc}].

If you do not have this additional Red Hat subscription, you can use the Community Windows Machine Config Operator, a distribution that lacks official support.
endif::openshift-origin[]

[id="wmco-9-0-0"]
== Release notes for Red Hat Windows Machine Config Operator 9.0.0

This release of the WMCO provides new features and bug fixes for running Windows compute nodes in an {product-title} cluster. The components of the WMCO 9.0.0 were released in link:https://access.redhat.com/errata/RHSA-2023:1372[RHSA-2023:1372].

[id="wmco-9-0-0-new-features"]
=== New features and improvements

[id="wmco-9-0-0-cluster-wide"]
==== Support cluster-wide proxy on Windows Containers

WMCO is now supported in clusters that use a cluster-wide proxy. Starting with this release, WMCO can consume and use global egress proxy configuration when making external requests outside the cluster's internal network. For more information, see xref:../networking/enable-cluster-wide-proxy.adoc#enable-cluster-wide-proxy[Configuring the cluster-wide proxy].

[id="wmco-9-0-0-nutanix"]
==== Support Windows Containers on Nutanix

You can now run Windows Server 2022 nodes on a cluster installed on Nutanix. You can create a Windows machine set object on Nutanix to host Windows Server 2022 compute nodes. For more information, see xref: ../windows_containers/creating_windows_machinesets/creating-windows-machineset-nutanix.adoc#creating-windows-machineset-nutanix[Creating a Windows MachineSet object on Nutanix].
//Need to update link when the Nutanix PR merges. 

[id="wmco-9-0-0-priority-class"]
==== New scheduling priority class

WMCO now supports the `windows-priorityclass` kubelet parameter, which ensures that running pods do not starve the kubelet of CPU cycles. By default, the `windows-priorityclass` parameter is set to `ABOVE_NORMAL_PRIORITY_CLASS`. It is not recommended to change this setting. For more information on this parameter, see link:https://kubernetes.io/docs/concepts/configuration/windows-resource-management/#resource-management-cpu[CPU management] in the Kubernetes documentation.

[id="wmco-9-0-0-csi-proxy"]
==== CSI Proxy support for Windows Containers

WMCO now supports the use of persistent storage for Windows workloads, without the use of in-tree storage drivers, by running the CSI Proxy service on each Windows node. With CSI proxy running on a cluster's Windows nodes, cluster administrators are able to deploy the Container Storage Interface (CSI) storage drivers of their choice as a Windows daemon set. Windows pods on each node now have access to storage through persistent volume claims. For more information on CSI Proxy, see link:https://kubernetes.io/blog/2021/08/09/csi-windows-support-with-csi-proxy-reaches-ga/[CSI Windows Support (with CSI Proxy)] in the Kubernetes documentation. For information on CSI, see xref:../storage/container_storage_interface/persistent-storage-csi.adoc#persistent-storage-csi[Configuring CSI volumes] in the {product-title} documentation. 

[id="wmco-9-0-0-technical-changes"]
=== Notable technical changes

[id="wmco-9-0-0-ssh-password"]
==== SSH password authentication is disabled for all Windows Machine nodes

SSH password authentication is now disabled by default for all Windows nodes. The nodes now reject SSH connections that do not use public key authentication. This change is required by {op-system-first}.

[id="wmco-9-0-0-bug-fixes"]
=== Bug fixes

* Previously, on an Azure Windows Server 2019 platform that does not have the Azure container service installed, WMCO would fail to deploy Windows instances and would display the _Install-WindowsFeature : Win32 internal error "Access is denied" 0x5 occurred while reading the console output buffer_ error message. The failure occurred because the Microsoft `Install-WindowsFeature` cmdlet displays a progress bar that cannot be sent over an SSH connection. This fix hides the progress bar. As a result, Windows instances can be deployed as nodes. (link:https://issues.redhat.com/browse/OCPBUGS-13244[*OCPBUGS-13244*])

include::modules/wmco-prerequisites.adoc[leveloffset=+1]

include::modules/windows-containers-release-notes-limitations.adoc[leveloffset=+1] 

